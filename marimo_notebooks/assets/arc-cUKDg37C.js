import{w as n,h as t,e as r,t as c,c as e,s as a,m as u,a as i,b as o,p as y,d as l,f,g as s,i as p,j as x}from"./step-5BjdtTEt.js";function h(n){return n.innerRadius}function g(n){return n.outerRadius}function v(n){return n.startAngle}function d(n){return n.endAngle}function m(n){return n&&n.padAngle}function T(n,t,r,c,e,a,u){var i=n-r,o=t-c,y=(u?a:-a)/l(i*i+o*o),f=y*o,s=-y*i,p=n+f,h=t+s,g=r+f,v=c+s,d=(p+g)/2,m=(h+v)/2,T=g-p,A=v-h,R=T*T+A*A,j=e-a,b=p*v-g*h,w=(A<0?-1:1)*l(x(0,j*j*R-b*b)),P=(b*A-T*w)/R,k=(-b*T-A*w)/R,q=(b*A+T*w)/R,z=(-b*T+A*w)/R,B=P-d,C=k-m,D=q-d,E=z-m;return B*B+C*C>D*D+E*E&&(P=q,k=z),{cx:P,cy:k,x01:-f,y01:-s,x11:P*(e/j-1),y11:k*(e/j-1)}}function A(){var x=h,A=g,R=o(0),j=null,b=v,w=d,P=m,k=null,q=n(z);function z(){var n,o,h=+x.apply(this,arguments),g=+A.apply(this,arguments),v=b.apply(this,arguments)-t,d=w.apply(this,arguments)-t,m=i(d-v),z=d>v;if(k||(k=n=q()),g<h&&(o=g,g=h,h=o),g>r)if(m>c-r)k.moveTo(g*e(v),g*a(v)),k.arc(0,0,g,v,d,!z),h>r&&(k.moveTo(h*e(d),h*a(d)),k.arc(0,0,h,d,v,z));else{var B,C,D=v,E=d,F=v,G=d,H=m,I=m,J=P.apply(this,arguments)/2,K=J>r&&(j?+j.apply(this,arguments):l(h*h+g*g)),L=u(i(g-h)/2,+R.apply(this,arguments)),M=L,N=L;if(K>r){var O=s(K/h*a(J)),Q=s(K/g*a(J));(H-=2*O)>r?(F+=O*=z?1:-1,G-=O):(H=0,F=G=(v+d)/2),(I-=2*Q)>r?(D+=Q*=z?1:-1,E-=Q):(I=0,D=E=(v+d)/2)}var S=g*e(D),U=g*a(D),V=h*e(G),W=h*a(G);if(L>r){var X,Y=g*e(E),Z=g*a(E),$=h*e(F),_=h*a(F);if(m<y)if(X=function(n,t,c,e,a,u,i,o){var y=c-n,l=e-t,f=i-a,s=o-u,p=s*y-f*l;if(!(p*p<r))return[n+(p=(f*(t-u)-s*(n-a))/p)*y,t+p*l]}(S,U,$,_,Y,Z,V,W)){var nn=S-X[0],tn=U-X[1],rn=Y-X[0],cn=Z-X[1],en=1/a(p((nn*rn+tn*cn)/(l(nn*nn+tn*tn)*l(rn*rn+cn*cn)))/2),an=l(X[0]*X[0]+X[1]*X[1]);M=u(L,(h-an)/(en-1)),N=u(L,(g-an)/(en+1))}else M=N=0}I>r?N>r?(B=T($,_,S,U,g,N,z),C=T(Y,Z,V,W,g,N,z),k.moveTo(B.cx+B.x01,B.cy+B.y01),N<L?k.arc(B.cx,B.cy,N,f(B.y01,B.x01),f(C.y01,C.x01),!z):(k.arc(B.cx,B.cy,N,f(B.y01,B.x01),f(B.y11,B.x11),!z),k.arc(0,0,g,f(B.cy+B.y11,B.cx+B.x11),f(C.cy+C.y11,C.cx+C.x11),!z),k.arc(C.cx,C.cy,N,f(C.y11,C.x11),f(C.y01,C.x01),!z))):(k.moveTo(S,U),k.arc(0,0,g,D,E,!z)):k.moveTo(S,U),h>r&&H>r?M>r?(B=T(V,W,Y,Z,h,-M,z),C=T(S,U,$,_,h,-M,z),k.lineTo(B.cx+B.x01,B.cy+B.y01),M<L?k.arc(B.cx,B.cy,M,f(B.y01,B.x01),f(C.y01,C.x01),!z):(k.arc(B.cx,B.cy,M,f(B.y01,B.x01),f(B.y11,B.x11),!z),k.arc(0,0,h,f(B.cy+B.y11,B.cx+B.x11),f(C.cy+C.y11,C.cx+C.x11),z),k.arc(C.cx,C.cy,M,f(C.y11,C.x11),f(C.y01,C.x01),!z))):k.arc(0,0,h,G,F,z):k.lineTo(V,W)}else k.moveTo(0,0);if(k.closePath(),n)return k=null,n+""||null}return z.centroid=function(){var n=(+x.apply(this,arguments)+ +A.apply(this,arguments))/2,t=(+b.apply(this,arguments)+ +w.apply(this,arguments))/2-y/2;return[e(t)*n,a(t)*n]},z.innerRadius=function(n){return arguments.length?(x="function"==typeof n?n:o(+n),z):x},z.outerRadius=function(n){return arguments.length?(A="function"==typeof n?n:o(+n),z):A},z.cornerRadius=function(n){return arguments.length?(R="function"==typeof n?n:o(+n),z):R},z.padRadius=function(n){return arguments.length?(j=null==n?null:"function"==typeof n?n:o(+n),z):j},z.startAngle=function(n){return arguments.length?(b="function"==typeof n?n:o(+n),z):b},z.endAngle=function(n){return arguments.length?(w="function"==typeof n?n:o(+n),z):w},z.padAngle=function(n){return arguments.length?(P="function"==typeof n?n:o(+n),z):P},z.context=function(n){return arguments.length?(k=null==n?null:n,z):k},z}export{A as d};
